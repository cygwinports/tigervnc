Index: xorg-server-1.5.3/xserver/configure.ac
===================================================================
--- xorg-server-1.5.3.orig/unix/xserver/configure.ac	2008-11-20 21:38:21.506369300 -0600
+++ xorg-server-1.5.3/unix/xserver/configure.ac	2008-11-23 18:42:42.934276800 -0600
@@ -829,7 +829,7 @@
 	AC_SUBST(XLIB_CFLAGS)
 	AC_DEFINE(GLXEXT, 1, [Build GLX extension])
 	GLX_LIBS='$(top_builddir)/glx/libglx.la'
-	GLX_SYS_LIBS="$GLX_SYS_LIBS $DLOPEN_LIBS"
+	GLX_SYS_LIBS="$GLX_SYS_LIBS $GL_LIBS $DLOPEN_LIBS"
 else
         GLX=no
 fi
@@ -1139,7 +1139,7 @@ PKG_CHECK_MODULES([XSERVERLIBS], [$REQUI
 #
 XSERVER_CFLAGS="${XSERVERCFLAGS_CFLAGS} ${SHA1_CFLAGS}"
 XSERVER_LIBS="$DIX_LIB $CONFIG_LIB $MI_LIB $OS_LIB"
-XSERVER_SYS_LIBS="${XSERVERLIBS_LIBS} ${SYS_LIBS} ${LIBS} ${SHA1_LIB}"
+XSERVER_SYS_LIBS="${XSERVERLIBS_LIBS} ${GLX_SYS_LIBS} ${SYS_LIBS} ${LIBS} ${SHA1_LIB}"
 AC_SUBST([XSERVER_LIBS])
 AC_SUBST([XSERVER_SYS_LIBS])
 
Index: xorg-server-1.5.3/xserver/glx/Makefile.am
===================================================================
--- xorg-server-1.5.3.orig/unix/xserver/glx/Makefile.am	2008-11-05 10:52:17.000000000 -0600
+++ xorg-server-1.5.3/unix/xserver/glx/Makefile.am	2008-11-23 18:51:08.559276800 -0600
@@ -38,10 +38,8 @@
 	dispatch.h				\
 	glapitable.h				\
 	glapitemp.h				\
-	glapi.c					\
 	glapi.h					\
 	glapioffsets.h				\
 	glprocs.h				\
-	glthread.c				\
 	glthread.h
 
 libglxdri_la_SOURCES = \  
Index: xorg-server-1.5.3/xserver/glx/glxdriswrast.c
===================================================================
--- xorg-server-1.5.3.orig/unix/xserver/glx/glxdriswrast.c
+++ xorg-server-1.5.3/unix/xserver/glx/glxdriswrast.c
@@ -55,6 +55,10 @@
 #include "dispatch.h"
 #include "extension_string.h"
 
+#ifndef RTLD_LOCAL
+#define RTLD_LOCAL 0
+#endif
+
 typedef struct __GLXDRIscreen   __GLXDRIscreen;
 typedef struct __GLXDRIcontext  __GLXDRIcontext;
 typedef struct __GLXDRIdrawable __GLXDRIdrawable;
Index: xorg-server-1.5.3/xserver/glx/single2.c
===================================================================
--- xorg-server-1.5.3.orig/unix/xserver/glx/single2.c
+++ xorg-server-1.5.3/unix/xserver/glx/single2.c
@@ -341,6 +341,9 @@ int DoGetString(__GLXclientState *cl, GL
     string = (const char *) CALL_GetString( GET_DISPATCH(), (name) );
     client = cl->client;
 
+    if (string == NULL)
+      string = "";
+
     /*
     ** Restrict extensions to those that are supported by both the
     ** implementation and the connection.  That is, return the

